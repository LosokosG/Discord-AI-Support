---
import Layout from "../../../../layouts/Layout.astro";
import { DocumentCreateView } from "../../../../components/knowledge/DocumentCreateView";

// Get the server ID from the URL
const { id } = Astro.params;

// We'll handle not having an ID in the React component
if (!id) {
  return Astro.redirect("/servers");
}

// Error state - will be passed to the component
let error: string | null = null;
---

<Layout title="Add Document">
  <div class="container mx-auto py-6 px-4 md:px-6">
    <div class="mb-6">
      <h1 class="text-3xl font-bold">Add Document</h1>
      <p class="text-muted-foreground">Create a new knowledge base document</p>
    </div>

    <div class="bg-card rounded-lg border shadow-sm p-6">
      <DocumentCreateView client:load serverId={id} error={error} />
    </div>
  </div>
</Layout>
